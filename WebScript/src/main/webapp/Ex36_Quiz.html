<!DOCTYPE html>
<html>
<head>
 <meta charset="UTF-8">
 <title>Insert title here</title>
 <!--  
 규칙 : 기본급여  : (정수값)
      기타수당  : 국가유공자 + 5년이상 근속
      총액      : (기본급 + 자격증 수당 + 자녀 수당 + 기타 수당)
      세금      : 기본급 * 0.22 
      실수령액  : 총액 - 세금
      연봉      : 실수령액  * 12 + 기본급
      천단위 콤마 처리 : 자율 (표현식 , 로직)
     10,000,000원 

 	<script type="text/javascript">
 	window.onload = function() {
 		  const form = document.querySelector('form[name="payManage"]');
 		  form.btn.onclick = function() {
 		    resultSal(form);
 		  };
 		};

 		function resultSal(form) {
 		  const name = form.name.value;
 		  const basicPay = parseInt(form.basicPay.value);

 		  let licensePay = 0;
 		  if (form.license) {
 		    for (let i = 0; i < form.license.length; i++) {
 		      if (form.license[i].checked) {
 		        licensePay = parseInt(form.license[i].value);
 		        break;
 		      }
 		    }
 		  }

 		  let childPay = 0;
 		  if (form.child) {
 		    for (let i = 0; i < form.child.length; i++) {
 		      if (form.child[i].checked) {
 		        childPay = parseInt(form.child[i].value);
 		        break;
 		      }
 		    }
 		  }
 		  
 		  let otherPay = 0;
 		  if (form.merit && form.merit.checked) {
 		      otherPay += parseInt(form.merit.value);
 		  }
 		  if (form.longterm && form.longterm.checked) {
 		      otherPay += parseInt(form.longterm.value);
 		  }

 		  const totalPay = basicPay + licensePay + childPay + otherPay;
 		  const tax = basicPay * 0.22;
 		  const netPay = totalPay - tax;
 		  const yearlyPay = netPay * 12 + basicPay;

 		  const resultForm = document.querySelector('form[name="resultForm"]');

 		  resultForm.resultName.value = name;
 		  resultForm.resultBasicPay.value = basicPay.toLocaleString() + '원';
 		  resultForm.resultLicense.value = licensePay.toLocaleString() + '원';
 		  resultForm.resultChild.value = childPay.toLocaleString() + '원';
 		  resultForm.resultEtc.value = otherPay.toLocaleString() + '원';
 		  resultForm.resultTotalPay.value = totalPay.toLocaleString() + '원';
 		  resultForm.resultTax.value = tax.toLocaleString() + '원';
 		  resultForm.resultPay.value = netPay.toLocaleString() + '원';
 		  resultForm.resultYearlyPay.value = yearlyPay.toLocaleString() + '원';
 		}
 		 -->
 		 window.onload = function() {
  document.forms["payManage"].btn.onclick = function() {
    resultSal(document.forms["payManage"]);
  };
};

function formatNumberWithCommas(number) {
  return number.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
}

function resultSal(form) {
  const name = form.name.value;
  const basicPay = parseInt(form.basicPay.value);

  let licensePay = 0;
  const licenseRadios = document.getElementsByName("license");
  for (let i = 0; i < licenseRadios.length; i++) {
    if (licenseRadios[i].checked) {
      licensePay = parseInt(licenseRadios[i].value);
      break;
    }
  }

  let childPay = 0;
  const childRadios = document.getElementsByName("child");
  for (let i = 0; i < childRadios.length; i++) {
    if (childRadios[i].checked) {
      childPay = parseInt(childRadios[i].value);
      break;
    }
  }

  let otherPay = 0;
  const meritCheckbox = document.getElementsByName("merit")[0];
  const longtermCheckbox = document.getElementsByName("longterm")[0];

  if (meritCheckbox && meritCheckbox.checked) {
    otherPay += parseInt(meritCheckbox.value);
  }
  if (longtermCheckbox && longtermCheckbox.checked) {
    otherPay += parseInt(longtermCheckbox.value);
  }

  const totalPay = basicPay + licensePay + childPay + otherPay;
  const tax = basicPay * 0.22;
  const netPay = totalPay - tax;
  const yearlyPay = netPay * 12 + basicPay;

  const resultForm = document.forms["resultForm"];

  resultForm.resultName.value = name;
  resultForm.resultBasicPay.value = formatNumberWithCommas(basicPay) + '원';
  resultForm.resultLicense.value = formatNumberWithCommas(licensePay) + '원';
  resultForm.resultChild.value = formatNumberWithCommas(childPay) + '원';
  resultForm.resultEtc.value = formatNumberWithCommas(otherPay) + '원';
  resultForm.resultTotalPay.value = formatNumberWithCommas(totalPay) + '원';
  resultForm.resultTax.value = formatNumberWithCommas(Math.round(tax)) + '원';
  resultForm.resultPay.value = formatNumberWithCommas(Math.round(netPay)) + '원';
  resultForm.resultYearlyPay.value = formatNumberWithCommas(Math.round(yearlyPay)) + '원';
}
 		 
 		 
 		 
 		 
 		 
 		 
 		 
 	</script>
</head>
<body>
<h2>급여 관리 시스템 지원 양식</h2>
 <form name="payManage">
 <table>
     <tr>
         <td >성명: </td>
         <td><input type="text" name="name" size="20" ></td>
     </tr>
     <tr>
         <td >기본급: </td>
         <td><input type="text" name="basicPay" size="20" ></td>
      </tr>
      <tr>
         <td >자격증 수당: </td>
         <td><input type="radio" name="license" value="150000">기사 150,000원
             <input type="radio" name="license" value="100000">산업기사 100,000원
             <input type="radio" name="license" value="50000">기능사 50,000원
         </td>
      </tr>
      <tr>
         <td >자녀 수당: </td>
         <td><input type="radio" name="child" value="100000">1인 100,000원
             <input type="radio" name="child" value="200000">2인 200,000원
             <input type="radio" name="child" value="300000">3인 300,000원
         </td>
     </tr>
     <tr>
         <td >기타 수당: </td>
         <td><input type="checkbox" name="merit" value=100000>국가유공자 100,000원
             <input type="checkbox" name="longterm" value=100000>5년이상 근속 100,000원
         </td>
     </tr>
     <tr>
         <td colspan="2"><input type="button" name="btn" value="계산하기" onclick="resultSal(this.form)" style="margin-left: 30px">
         </td>
     </tr>
 </table>
 </form>
 <p>
 <p>
 <form name="resultForm">
 <table align="left" style="margin-left: 0px">
   <tr><th colspan=2>출력 결과</th></tr>
      <tr><td  width="100px">성명: </td>
         <td><input type=text name=resultName></td>
      <tr><td >기본급: </td>
         <td><input type=text name=resultBasicPay></td>
      <tr><td >자격증 수당: </td>
         <td><input type=text name=resultLicense></td>
      <tr><td >자녀 수당: </td>
         <td><input type=text name=resultChild></td>
      <tr><td >기타 수당: </td>
          <td><input type=text name=resultEtc></td>
      <tr><td >총액: </td>
          <td><input type=text name=resultTotalPay></td>
      <tr><td >세금: </td>
         <td><input type=text name=resultTax></td>
      <tr><td >실수령액: </td>
         <td><input type=text name=resultPay></td>
      <tr><td >연봉: </td>
         <td><input type=text name=resultYearlyPay></td>
   </tr>
 </table>
 </form>
 
</body>
</html>